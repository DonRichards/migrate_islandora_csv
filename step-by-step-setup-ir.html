<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Step by Step Setup (IR) - Next Generation Digital Repository Solution</title><meta name="description" content="This will cover these topic The simpliest way to implement a highly customizable submit, review, accept, publish workflow is to leverage Drupal’s Content Moderation. Most&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://donrichards.github.io/migrate_islandora_csv/step-by-step-setup-ir.html"><link rel="amphtml" href="https://donrichards.github.io/migrate_islandora_csv/amp/step-by-step-setup-ir.html"><link rel="alternate" type="application/atom+xml" href="https://donrichards.github.io/migrate_islandora_csv/feed.xml"><link rel="alternate" type="application/json" href="https://donrichards.github.io/migrate_islandora_csv/feed.json"><meta property="og:title" content="Step by Step Setup (IR)"><meta property="og:site_name" content="Next Generation Digital Repository Solution"><meta property="og:description" content="This will cover these topic The simpliest way to implement a highly customizable submit, review, accept, publish workflow is to leverage Drupal’s Content Moderation. Most&hellip;"><meta property="og:url" content="https://donrichards.github.io/migrate_islandora_csv/step-by-step-setup-ir.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://donrichards.github.io/migrate_islandora_csv/media/website/add.ico" type="image/x-icon"><link rel="stylesheet" href="https://donrichards.github.io/migrate_islandora_csv/assets/css/style.css?v=fa120d17505d1b5f3c27b9fc42c7aad2"><link rel="stylesheet" href="https://donrichards.github.io/migrate_islandora_csv/assets/css/prism-default.css?v=9744853d64d710edcae61a3d59a17ee2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://donrichards.github.io/migrate_islandora_csv/step-by-step-setup-ir.html"},"headline":"Step by Step Setup (IR)","datePublished":"2020-06-26T13:39","dateModified":"2020-07-02T10:39","description":"This will cover these topic The simpliest way to implement a highly customizable submit, review, accept, publish workflow is to leverage Drupal’s Content Moderation. Most&hellip;","author":{"@type":"Person","name":"Don Richards"},"publisher":{"@type":"Organization","name":"Don Richards"}}</script></head><body><header class="header" id="js-header"><a class="logo" href="https://donrichards.github.io/migrate_islandora_csv/">Next Generation Digital Repository Solution </a><a href="https://github.com/donrichards/migrate_islandora_csv/" class="btn btn--outline btn--icon github" aria-label="Github" title="Github"><svg height="22" width="22"><use xlink:href="https://donrichards.github.io/migrate_islandora_csv/assets/svg/svg-map.svg#github"></use></svg> Github</a></header><main><div class="container container--with-sidebar"><div class="sidebar js-sidebar"><nav class="sidebar__menu"><ul class="js-sidebar-menu"><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/islandora-8-overview.html">Islandora</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/islandora-8-overview.html">Overview</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/background.html">Background</a></li></ul></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/content-modeling.html">Content Modeling</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/content-modeling.html">Content Model Overview</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/general-content-models.html">General Content Modeling</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/images-books-and-pages.html">Images, Books, and Pages</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/other-content-types.html">Other Objects</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/book-and-large-image-viewer.html">Books &amp; Large Image Viewer</a></li></ul></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html">Uploading, Ingesting, and Migration</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html">Overview</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/uploading.html">Uploading</a></li></ul></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/preservation.html">Preservation</a></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/metadata-and-metadata-sharing.html">Metadata and Metadata Sharing</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/next-level-discoverability-solutions.html">Next Level Discoverability Solutions</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/bibliography-and-citation.html">Bibliography &amp; Citation</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/oai-pmh-and-doi-minting.html">OIT-PMH &amp; DOI Minting</a></li></ul></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/bibliography-and-citation.html">Bibliography &amp; Citation</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/cloud-hosting-solution.html">Cloud Hosting</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/rights-and-restrictions.html">Rights &amp; Restrictions</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/technical-infrastructure.html">Technical Infrastructure</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/deployment-options.html">Deployment Options</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/community-and-sustainability.html">Community &amp; Sustainability</a></li><li class="active-parent has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/institutional-repository.html">Institutional Repository</a><ul><li class="active"><a href="https://donrichards.github.io/migrate_islandora_csv/step-by-step-setup-ir.html">Step by Step Setup (IR)</a></li></ul></li></ul></nav></div><div class="content content--center"><article class="post"><h1>Step by Step Setup (IR)</h1><div class="post__entry"><p>This will cover these topic</p><ul><li>Needed modules</li><li>User groups</li><li>Special Permissions Considerations</li><li>Create a Custom “Thesis” content type</li><li>Moderation Workflow Setup</li><li>Submission process</li><li>Review/Publication process</li><li>Google Scholar Indexing</li><li>Sharing Metadata</li><li>Embargos</li><li>Tombstoning</li></ul><p>The simpliest way to implement a highly customizable submit, review, accept, publish workflow is to leverage Drupal’s Content Moderation. Most of the needed steps have already be accomplished by existing modules and workflows. Once the content has been reviewed it can be passed as a node and several aditional actions can be fired at this or and other stage of the submissions/publish process.</p><h3 id="needed-modules">Needed Modules</h3><p>★ Drupal’s Core Module Content Moderation</p><h3 id="user-groups">User groups</h3><p>Create some user roles (admin &gt; people &gt; roles). For this example the following roles would be useful to add.</p><ul><li>Student</li><li>Thesis Manager</li><li>Dissertation Manager</li></ul><p>We will set thier permissions later but for now create a user for each of these and add the corresponding roles.</p><p></p><figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85894536-eadb4b00-b7c2-11ea-86e5-fd7b0b825b59.png" data-is-external-image="true" alt="users and roles"></figure><p></p><h3 id="special-permissions-considerations">Special Permissions Considerations</h3><p>Repository content should not be immediately accessible to the public. The Drupal 8 module <em>permissions_by_term</em> and the sub-module <em>permissions_by_entity</em> allows us to create a ‘ETD-submission’ term that, when applied to nodes and media will restrict access to them (and files as an extension of media) to permission group members.</p><p>However, access to files will only be checked if they are in a managed filesystem such as the Drupal private filesystem or one provided by a Flysystem adapter (like the Fedora Adapter provided by Islandora 8). When Islandora 8 creates derivate media it places them in the public filesystem by default. This is generally a good idea because it is more performant than other filesystems but then derivatives of restricted items become publicly accessible, which is not what we want. A repository manager can change the derivative actions to save them into either the private of Fedora filesystems, but this comes at a performance cost when accessing files that are publicly accessible.</p><p>Enter <em>file_access_fix</em>. This handy module will check an entity (node, media, etc.) on update to see if it has any referenced files. If so, it will check if the entity is available by Anonymous users and will move the file to the appropriate filesystem, either public or private, based on it’s availability. So, if I create a derivative that is saved in the private filesystem by default, this module will check to see if the media is publicly accessible, if so, it will move it to the more performant public filesystem for me! If I ever decide that the media actually should be restricted, the module will move the file from the public filesystem back to the private one. See more on <a href="https://seth-shaw-unlv.github.io/2020-06-23/permissions_by_term_file_access_fix">Permissions By Entity &amp; File Access Fix</a></p><h3 id="create-custom-types">Create Custom types</h3><p>Create Custom “Thesis, Dissertation, and Supplemental” <strong>media</strong> types and “Thesis, Dissertation” <strong>content</strong> types. Create the media types first.</p><h4 id="create-media-types">Create Media Types</h4><p>The Media Types list should now include Supplimental, Thesis and Dissertation (Admin &gt; Structure &gt; Media Types)</p><p>Since objects in Islandora 8 are stored in Drupal as Nodes, we use the standard Drupal Content Types system to create and edit our ‘ingest forms’ <a href="https://www.drupal.org/docs/8/administering-drupal-8-site/managing-content-0/working-with-content-types-and-fields">Content Types in Drupal 8</a>. Islandora 8 forms are Drupal forms, and if you are already familiar with Drupal Field UI, you’re already well equipped to create and modify your own ingest forms in Islandora 8.</p><p>Highly recomended that you follow the <a href="https://islandora.github.io/documentation/user-documentation/content_types/#create-a-content-type">Islandora documentation</a> instructions.</p><p></p><figure class="post__image"><img loading="lazy" src="https://islandora.github.io/documentation/assets/content_types_managefields.png" data-is-external-image="true" alt="content types manage fields screenshot"></figure><p></p><p></p><figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85893252-84552d80-b7c0-11ea-9404-17408b4a6307.png" data-is-external-image="true" alt="Creating a custom Media type"></figure><p></p><p></p><figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85893352-bcf50700-b7c0-11ea-9a41-64417c0f2e9a.png" data-is-external-image="true" alt="Media types added"></figure><p></p><h4 id="create-content-types">Create Content Types</h4><ul><li>Go to admin &gt; structure &gt; content types and click Add content type</li><li>Give it a name “Thesis Content”<ul><li>In the default options, uncheck <strong>Published</strong> and <strong>Promoted to front page</strong> then click save and manage fields.</li></ul></li></ul><p>By default it comes with a <strong>Body</strong> field. We need to add 2 File types (1 for the PDF and 1 for any supplimental files) to attach to the sumission. The PDF is required but the supplimental files isn’t.</p><ul><li>Click Add Field</li><li>Select from the “Add a new field” dropdown <strong>Media</strong><ul><li>Add a label “thesis_pdf” and click save</li><li>Check Flysystem: fedora &amp; Limited to 1</li><li>Check Required field is checked and Media type <strong>Thesis</strong></li></ul></li><li>Click Add Field again</li><li>Select from the “Add a new field” dropdown <strong>File</strong><ul><li>Add a label “thesis_supplimental” and click save</li><li>Settings Flysystem: fedora &amp; Unlimited</li><li>Setting on the next page is Required field is unchecked</li><li>Allowed file extensions doesn’t allow for wildcards so you’ll need to put in every expected extension.</li><li>Maximum upload size 10GB (this is per-file)</li></ul></li></ul><p></p><figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85897384-33e1ce00-b7c8-11ea-988a-25ddeceabf04.png" data-is-external-image="true" alt="Manage fields after adding content"></figure><p></p><p>Click on Manage Form Display and drag <strong>Published</strong>, <strong>Sticky at the top of the lists</strong>, and <strong>Promote to front page</strong> to the disabled section and hit save.</p><h3 id="moderation-workflow-setup">Moderation Workflow Setup</h3><p>There are 3 categories to set up; states, transitions, assign to specific content types.</p><ul><li><strong>States</strong>: The different states the submission could possible be in<ul><li>Submitted, reviewed and waiting for update, embargoed, published, tombstoned, etc.</li></ul></li><li><strong>Transitions</strong>: Applying actions when transitioning from one state to another.<ul><li><em>From (submitted, waiting for update, under review) to published</em></li><li><em>From (published, embargoed) to tombstoned</em></li></ul></li></ul><p>Create all of the states and transitions. There is very little instructions needed to achieve this. Add <strong>This workflow applies to:</strong> to <strong>media Type</strong> <em>Thesis</em></p><p></p><figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85893801-8e2b6080-b7c1-11ea-8041-f71074bd2fce.png" data-is-external-image="true" alt="workflow applies to"></figure><p></p><h3 id="submission-process">Submission process</h3><p>..</p><h3 id="reviewpublication-process">Review/Publication process</h3><p><a href="http://www.youtube.com/watch?v=8R2qiFMU8v8" title="Content Moderation Basics for Drupal 8"><figure class="post__image"><img loading="lazy" src="http://img.youtube.com/vi/8R2qiFMU8v8/0.jpg" data-is-external-image="true" alt="https://img.youtube.com/vi/8R2qiFMU8v8/hqdefault.jpg"></figure></a></p><h3 id="google-scholar-indexing">Google Scholar Indexing</h3><p>Google Scholar has many requirements and a few alternatives to those requirements. Mainly the content hosted on your website must consist primarily of scholarly articles - journal papers, conference papers, technical reports, or their drafts, dissertations, pre-prints, post-prints, or abstracts. Content such as news or magazine articles, book reviews, and editorials is not appropriate for Google Scholar. Content must make either the full text of the articles or their complete author-written abstracts freely available above the fold. There are several other restrictions that can be found at <a href="https://scholar.google.com/intl/en/scholar/inclusion.html#overview">Google Scholar Inclusion Guidelines</a></p><h4 id="metatag-google-scholar"><a href="https://www.drupal.org/project/metatag_google_scholar">Metatag Google Scholar</a></h4><p>Currently the <a href="https://www.drupal.org/project/metatag_google_scholar">Metatag Google Scholar</a> along with the <a href="https://www.drupal.org/project/metatag">metatag</a> modules adds the following <em>Highwire Press</em> tags:</p><ul><li>citation_title</li><li>citation_author</li><li>citation_publication_date</li><li>citation_journal_title</li><li>citation_issn</li><li>citation_isbn</li><li>citation_volume</li><li>citation_issue</li><li>citation_firstpage</li><li>citation_lastpage</li><li>citation_dissertation_institution</li><li>citation_technical_report_institution</li><li>citation_technical_report_number</li><li>citation_pdf_url</li></ul><p>Example</p><pre><code class="language-xml">&lt;meta name=&quot;citation_title&quot; content=&quot;The testis isoform of the phosphorylase kinase catalytic subunit (PhK-T) plays a critical role in regulation of glycogen mobilization in developing lung&quot;&gt;
&lt;meta name=&quot;citation_author&quot; content=&quot;Liu, Li&quot;&gt;
&lt;meta name=&quot;citation_author&quot; content=&quot;Rannels, Stephen R.&quot;&gt;
&lt;meta name=&quot;citation_author&quot; content=&quot;Falconieri, Mary&quot;&gt;
&lt;meta name=&quot;citation_author&quot; content=&quot;Phillips, Karen S.&quot;&gt;
&lt;meta name=&quot;citation_author&quot; content=&quot;Wolpert, Ellen B.&quot;&gt;
&lt;meta name=&quot;citation_author&quot; content=&quot;Weaver, Timothy E.&quot;&gt;
&lt;meta name=&quot;citation_publication_date&quot; content=&quot;1996/05/17&quot;&gt;
&lt;meta name=&quot;citation_journal_title&quot; content=&quot;Journal of Biological Chemistry&quot;&gt;
&lt;meta name=&quot;citation_volume&quot; content=&quot;271&quot;&gt;
&lt;meta name=&quot;citation_issue&quot; content=&quot;20&quot;&gt;
&lt;meta name=&quot;citation_firstpage&quot; content=&quot;11761&quot;&gt;
&lt;meta name=&quot;citation_lastpage&quot; content=&quot;11766&quot;&gt;
&lt;meta name=&quot;citation_pdf_url&quot; content=&quot;http://www.example.com/content/271/20/11761.full.pdf&quot;&gt;</code></pre><p>The title tag, e.g., citation_title or DC.title, must contain the title of the paper. Don’t use it for the title of the journal or a book in which the paper was published, or for the name of your repository. This tag is required for inclusion in Google Scholar.</p><p>The author tag, e.g., citation_author or DC.creator, must contain the authors (and only the actual authors) of the paper. Don’t use it for the author of the website or for contributors other than authors, e.g., thesis advisors. Author names can be listed either as “Smith, John” or as “John Smith”. Put each author name in a separate tag and omit all affiliations, degrees, certifications, etc., from this field. At least one author tag is required for inclusion in Google Scholar.</p><p>The publication date tag, e.g., citation_publication_date or DC.issued, must contain the date of publication, i.e., the date that would normally be cited in references to this paper from other papers. Don’t use it for the date of entry into the repository - that should go into citation_online_date instead. Provide full dates in the “2010/5/12” format if available; or a year alone otherwise. This tag is required for inclusion in Google Scholar.</p><p>For journal and conference papers, provide the remaining bibliographic citation data in the following tags: citation_journal_title or citation_conference_title, citation_issn, citation_isbn, citation_volume, citation_issue, citation_firstpage, and citation_lastpage. Dublin Core equivalents are DC.relation.ispartof for journal and conference titles and the non-standard tags DC.citation.volume, DC.citation.issue, DC.citation.spage (start page), and DC.citation.epage (end page) for the remaining fields. Regardless of the scheme chosen, these fields must contain sufficient information to identify a reference to this paper from another document, which is normally all of: (a) journal or conference name, (b) volume and issue numbers, if applicable, and (c) the number of the first page of the paper in the volume (or issue) in question.</p><p>For theses, dissertations, and technical reports, provide the remaining bibliographic citation data in the following tags: citation_dissertation_institution, citation_technical_report_institution or DC.publisher for the name of the institution and citation_technical_report_number for the number of the technical report. As with journal and conference papers, you need to provide sufficient information to recognize a formal citation to this document from another article.</p><p>For all document types, the guiding principle is to present your article as it would normally be cited in the “References” section of another paper. E.g., citations to technical reports normally include their assigned numbers, so the number of the report should be present in some appropriate field. Likewise, the name of the journal should be written as “Transactions on Magic Realism” or “Trans. Mag. Real.”, not as “Magic Realism, Transactions on” or “T12”. Omission or unusual presentation of key bibliographic fields can lead to mis-identification of your articles.</p><p>All tag values are HTML attributes, so you must escape special characters appropriately. E.g.,</p><meta name="citation_title" content="&quot;Andar com meus sapatos&quot; - uma an&#225;lise cr&#237;tica">. There’s no need to escape characters that are written directly in your webpage’s character encoding, such as Latin diacritics on a page in ISO-8859-1. However, you must still escape the quotes and the angle brackets.<p></p><p>The “</p><meta>“ tags normally apply only to the exact page on which they’re provided. If this page shows only the abstract of the paper and you have the full text in a separate file, e.g., in the PDF format, please specify the locations of all full text versions using citation_pdf_url or DC.identifier tags. The content of the tag is the absolute URL of the PDF file; for security reasons, it must refer to a file in the same subdirectory as the HTML abstract.<p></p><h3 id="sharing--metadata">Sharing Metadata</h3><p>Please see OAI-PMH</p><h3 id="embargos">Embargos</h3><p>A short demo of the major functionality of the Drupal 8 Embargoes module for the Islandora community, using the Islandora 8 Vagrant virtual machine and Repository Item type nodes.</p><p><a href="http://www.youtube.com/watch?v=5pUi8G8uxcU" title="Embargoes demo for Islandora 8"><figure class="post__image"><img loading="lazy" src="http://img.youtube.com/vi/5pUi8G8uxcU/0.jpg" data-is-external-image="true" alt="Embargoes demo for Islandora 8"></figure></a></p><h3 id="tombstoning">Tombstoning</h3><p>…</p><h3 id="other">Other</h3><blockquote><p>Google Scholar’s inclusion requirements, documents larger than 5MB, such as books and long dissertations, should be uploaded to Google Book Search.</p></blockquote><p>Although not common I can’t seem to locate a ready made solution for uploading content from Drupal 8 into Google Book Search’s API. It’s unknown how long this would take and it’s unlikely to be nessisary based on the sizes of the current dissertations currently being hosted in Bepress.</p><footer><div class="post__footer"></div><nav><ul class="post__nav"><li class="post__nav-prev">Prev: <a href="https://donrichards.github.io/migrate_islandora_csv/book-and-large-image-viewer.html" rel="prev" title="Book &amp; Large Image Viewer">Book &amp; Large Image Viewer</a></li><li class="post__nav-next">Next: <a href="https://donrichards.github.io/migrate_islandora_csv/uploading.html" rel="next" title="Uploading">Uploading</a></li></ul></nav></footer></div></article></div></div></main><footer class="footer"><div><a class="footer__logo" href="https://donrichards.github.io/migrate_islandora_csv/">Next Generation Digital Repository Solution</a></div><div><div class="footer__copy">For more information <a href="https://islandora.github.io/documentation/"></a></div><div class="footer__social"></div></div></footer><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true
   };</script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/scripts.min.js?v=fe8e4c5e655cb81dbff1ee359a0b8f92"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/prism.js?v=277309e26a038bf312a7e8aa239cfbd8"></script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/prism-line-numbers.min.js?v=13275d3ac10d7028cf6a6f5da276f68c"></script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/prism-copy-to-clipboard.min.js?v=fabfc3fd9af83cda5208ba2e9f9ed238"></script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/quicklink.umd.js?v=61daff262ce6be0813e6b1b0341274d4"></script><script>window.addEventListener('load', () =>{
         quicklink();
      });</script></body></html>