<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Uploading, ingesting, and migration - Next Generation Digital Repository Solution</title><meta name="description" content="tl; drIngesting can be done in the UI but there are additional options for ingestion of content with complicated setups and complex metadata. Ingesting either&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html"><link rel="amphtml" href="https://donrichards.github.io/migrate_islandora_csv/amp/uploading-ingesting-and-migration.html"><link rel="alternate" type="application/atom+xml" href="https://donrichards.github.io/migrate_islandora_csv/feed.xml"><link rel="alternate" type="application/json" href="https://donrichards.github.io/migrate_islandora_csv/feed.json"><meta property="og:title" content="Uploading, ingesting, and migration"><meta property="og:image" content="https://donrichards.github.io/migrate_islandora_csv/media/posts/7/migration-middle-format-process.jpg"><meta property="og:site_name" content="Next Generation Digital Repository Solution"><meta property="og:description" content="tl; drIngesting can be done in the UI but there are additional options for ingestion of content with complicated setups and complex metadata. Ingesting either&hellip;"><meta property="og:url" content="https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://donrichards.github.io/migrate_islandora_csv/media/website/add.ico" type="image/x-icon"><link rel="stylesheet" href="https://donrichards.github.io/migrate_islandora_csv/assets/css/style.css?v=16a64c46666bea60947fd47410df672e"><link rel="stylesheet" href="https://donrichards.github.io/migrate_islandora_csv/assets/css/prism-default.css?v=9744853d64d710edcae61a3d59a17ee2"><link rel="stylesheet" href="https://donrichards.github.io/migrate_islandora_csv/assets/css/docsearch.css?v=0407a7a131feaf753e76cd9d86149dc2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html"},"headline":"Uploading, ingesting, and migration","datePublished":"2020-06-19T15:17","dateModified":"2020-07-09T11:33","image":{"@type":"ImageObject","url":"https://donrichards.github.io/migrate_islandora_csv/media/posts/7/migration-middle-format-process.jpg","height":540,"width":960},"description":"tl; drIngesting can be done in the UI but there are additional options for ingestion of content with complicated setups and complex metadata. Ingesting either&hellip;","author":{"@type":"Person","name":"Don Richards"},"publisher":{"@type":"Organization","name":"Don Richards"}}</script></head><body><header class="header" id="js-header"><a class="logo" href="https://donrichards.github.io/migrate_islandora_csv/">Next Generation Digital Repository Solution </a><a href="https://github.com/donrichards/migrate_islandora_csv/" class="btn btn--outline btn--icon github" aria-label="Github" title="Github"><svg height="22" width="22"><use xlink:href="https://donrichards.github.io/migrate_islandora_csv/assets/svg/svg-map.svg#github"></use></svg> Github</a></header><main><div class="container container--with-sidebar"><div class="sidebar js-sidebar"><form action="https://donrichards.github.io/migrate_islandora_csv/search.html" class="sidebar__search"><input type="search" placeholder="search..." aria-label="Search" id="docsearch-input" class="js-search"></form><nav class="sidebar__menu"><ul class="js-sidebar-menu"><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/islandora-8-overview.html">Islandora</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/islandora-8-overview.html">Overview</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/background.html">Background</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/community-and-sustainability.html">Community &amp; Sustainability</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/vendors.html">Vendors</a></li></ul></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/content-modeling.html">Content Modeling</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/content-modeling.html">Content Model Overview</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/general-content-models.html">General Content Modeling</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/pcdm.html">PCDM</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/images-books-and-pages.html">Images, Books, and Pages</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/other-content-types.html">Other Objects</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/book-and-large-image-viewer.html">Books &amp; Large Image Viewer</a></li></ul></li><li class="active-parent has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html">Uploading, Ingesting, and Migration</a><ul><li class="active"><a href="https://donrichards.github.io/migrate_islandora_csv/uploading-ingesting-and-migration.html">Overview</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/uploading.html">Uploading</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/ingestingmigrating.html">Ingesting &amp; Migrating</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/developer-debugging.html">Developer Debugging</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/access-restrictions.html">Access Restriction</a></li></ul></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/preservation.html">Preservation</a></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/metadata-and-metadata-sharing.html">Metadata and Metadata Sharing</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/mods-to-rdf.html">MODS to RDF Mapping</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/oai-pmh-and-doi-minting.html">OAI-PMH &amp; DOI Minting</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/bibliography-and-citation.html">Bibliography &amp; Citation</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/rights-and-restrictions.html">Rights &amp; Restrictions</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/next-level-discoverability-solutions.html">Next Level Discoverability Solutions</a></li></ul></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/technical-infrastructure.html">Technical Infrastructure</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/technical-infrastructure.html">Technical Infrastructure</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/how-to-access-specific-data.html">How to access specific data</a></li></ul></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/deployment-options.html">Deployment Options</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/cloud-hosting-solution.html">Cloud Hosting</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/cas-authentication.html">CAS</a></li></ul></li><li class="has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/institutional-repository.html">Institutional Repository</a><ul><li><a href="https://donrichards.github.io/migrate_islandora_csv/bibliography-and-citation.html">Bibliography &amp; Citation</a></li><li><a href="https://donrichards.github.io/migrate_islandora_csv/step-by-step-setup-ir.html">Step by Step Setup (IR)</a></li></ul></li><li class="red has-submenu"><a href="https://donrichards.github.io/migrate_islandora_csv/quick-document-design-key.html">PDF&#x27;s Quick Reference Material Locations</a><ul><li class="red"><a href="https://donrichards.github.io/migrate_islandora_csv/developer-debugging.html">Developer Debugging</a></li></ul></li></ul></nav></div><div class="content content--center"><article class="post"><h1>Uploading, ingesting, and migration</h1><figure class="post__featured-image"><img class="hero__image-img" src="https://donrichards.github.io/migrate_islandora_csv/media/posts/7/migration-middle-format-process.jpg" srcset="https://donrichards.github.io/migrate_islandora_csv/media/posts/7/responsive/migration-middle-format-process-xs.jpg 300w, https://donrichards.github.io/migrate_islandora_csv/media/posts/7/responsive/migration-middle-format-process-sm.jpg 480w, https://donrichards.github.io/migrate_islandora_csv/media/posts/7/responsive/migration-middle-format-process-md.jpg 749w" sizes="(max-width: 749px) 100vw, 749px" loading="eager" height="540" width="960" alt="Typical Drupal 8 migration"><figcaption>Typical Drupal 8 migration https://nuvole.org/sites/default/files/migration-middle-format-process.jpg</figcaption></figure><div class="post__entry"><h2 id="tl-dr">tl; dr</h2><p>Ingesting can be done in the UI but there are additional options for ingestion of content with complicated setups and complex metadata. Ingesting either by batch or UI offers a lot of flexability. There are a few ways to achieve an almost completely lossless migration. This may seem a bit misleading. Not all MODS/DC values can be identically represented in RDF form. In 7.x, metadata was usually stored using an XML schema such as MODS or DC, as datastreams attached to an object. In Islandora 8, metadata is stored as fields. This means we are breaking out individual elements from a hierarchical structure to being individual independent values allowing for a potentially lossless process data migration. Migrating URIs associated with a person, place, event, etc. is done by creating a taxonomy reference URI and asscoiating it with a relationship (for a person Drupal uses a MARC relator) to a node/object. URI graph support relationships in ways that wasn’t avialbe before. Automatically fetching content for DOIs or rights statements can be done. A few options are covered at <a href="/oai-pmh-and-doi-minting.html">OAI-PMH &amp; DOI Minting</a>. If keeping the “legacy” XML metadata from 7.x is important, it can be attached to an Islandora 8 resource node as a Media entity and treated in a simular way as a binary file in 7.x. Either way no metadata is lost. And the only obvious gotcha is there is no mechanism in place for migrating all previous versions of an object maintaining that history. There are custom methods that can be done to achieve this but a discussion needs to happen on weather this is worth the effort.</p><h2 id="overview">Overview</h2><p>The Migrate API is the main way to ingest batches of data into Drupal (and because Islandora 8 is Drupal, into Islandora). The Migrate module only provides the framework, it’s up to you to create the rules that take data from a source, through a process (i.e. a mapping) to a destination. A set of these rules is called a “migration”. It has to be set up (as a Configuration Entity, either by importing a YAML file or by installing a Feature) and then it has to be run.</p><p>Once a migration has been run, it will have created (or updated) a bunch of Drupal entities of one type - whether that’s taxonomy terms, nodes, files, etc. Since an Object in Islandora 8 is made up of several different Drupal entities that refer to each other, it’s going to take multiple migrations to create an Islandora object, and it’s important to perform these migrations in a sensible order.</p><p>A basic Islandora object is at minimum: - a file, which holds the actual binary contents of an item - a node, which holds the descriptive metadata for an item and makes it discoverable - a media, which holds technical metadata and references the file and the node, linking the two together.</p><p>A typical migration migrates files and CSV metadata into Islandora using only YAML files. This process transforms data with pipelines of processing plugins and can handle numeric, text, and entity reference fields. It can handle multiple values for fields, and even more complicated things like <code>typed_relation</code> fields. This description only scratches the surface of what can be done with the Migrate API.</p><p>There’s certainly more you can do with Drupal 8’s Migrate API. There’s a plethora of source and processing plugins out there that can handle pretty much anything you throw at it. XML and JSON are fair game. You can also request sources using HTTP, so you can always point it at an existing systems REST API and go from there. If you can’t make the Migrate API’s existing workflow make the necessary changes to your data, you can expand its capabilities by writing your own process plugins. Reading the Drupal.org documentation on the Migrate API would be a good place to start or ask the community if someone already has a solution for the challenge you’re facing.</p><h3 id="charter-questions">Charter questions</h3><ol><li>Supports migration of objects and their associated datastreams from the Fedora 3 instance to Islandora 8. There are a couple of prebuilt solutions including a process that utilizes a Solr query and preconfigured mappings to achieve a full migration. Another technique utilizes the Drupal 8 module “Migrate Islandora CSV” (Lamb, 2019). As the title suggests this module utilizes a CSV file to migrate and can be generated via the Islandora 7x module “Islandora Get CSV” (Jordan, 2020).</li><li>Islandora has a few options for migrating from Islandora 7. There are 2 core migration options that Islandora supports directly; Islandora CSV migration and the migrate 7x claw (a fedora to fedora option). Another option developed was the Islandora workbench.<ul><li>Islandora CSV is the preferred option for it’s simplicity. All of the migration processes in this option are both iterable and reversible. If changes need to be made to the object or it’s metadata the changes can be either updated or rolled back. This is an extremely important feature. This allows for the migration of collections of objects to be migrated with only minimal mappings (if needed). This means all RDF mapping doesn’t have to be complete to migrate the entire collection. RDF is not a flat MODS file that references some URIs. This is a problem with MODS. If a URI was to change, every MODS file must be updated to reflect the new destination. In RDF, the URI is stored and referenced as an entity and not statically in a metadata file. It’s ideal to separate out any value that will be an entity; a subject, person, place, corporation, event, etc. Regardless of the entity type the process of migration includes 3 basic steps; download the source, process it and then save it.<figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85171208-8d805080-b23c-11ea-8e7a-f5638be0ca3f.png" data-is-external-image="true" alt="ETL Process"></figure></li><li>Islandora’s <strong><a href="https://github.com/Islandora-Devops/migrate_7x_claw">migrate_7x_claw</a></strong> module is a Drupal 8 Migrate Plus migration that pulls content directly from an Islandora 7.x Solr/Fedora server. This module assumes all PIDs are indexed in Solr.<pre><code>       - Currently, the following content models can be migrated over with full functionality:
           * Collection
           * Basic Image
           * Large Image
           * Audio
           * Video
           * PDF
           * Binary</code></pre></li><li>Islandora 8 supports batch ingest of objects through the Islandora Workbench repository (Jordan, 2020). This app utilizes a CSV file to import the content (objects), the base fields, and can generate new taxonomy terms when configured to do so.</li></ul></li><li>Supports ingesting objects via webforms. This is a basic fundamental functionality of Drupal 8 that Islandora leverages for all types of UI ingests and modification.</li><li>Supports uploading objects via a form and having that object approved and published by another user. This mediated process is done through a standard Drupal concept called an editorial workflow. This process is for an organization that utilizes several workflows such as create, edit, review, and publish and would like to restrict access to those workflows based on roles. A full breakdown of how this is accomplished can be located at Drupal’s Editorial Workflow page (Lakatos &amp; Hodgdon, 2019).</li><li>Supports self and mediated deposit. This process is identical to the previous comments on mediated workflows with the only difference being that for a self published deposit, the user should be granted the corresponding roles needed to accomplish the task. Please see <a href="step-by-step-setup-ir.html">Step by Step Setup of Islandora 8 Scholar</a> for more information on how to set it up.<figure class="post__image"><img loading="lazy" src="https://user-images.githubusercontent.com/2738244/85894536-eadb4b00-b7c2-11ea-86e5-fd7b0b825b59.png" data-is-external-image="true" alt="Islandora 8 Scholar Screenshots"></figure></li><li>Supports uploading any binary file type. Islandora 8 treats all repository items as a binary content type. Binary files are treated the same as any other content type, a model tag is applied to an object/node indicating to Drupal which context(s) to use resulting in corresponding actions to be fired.</li></ol><footer><div class="post__footer"><dl class="post__tag"><dt>Tags:</dt><dd><a href="https://donrichards.github.io/migrate_islandora_csv/csv/" title="CSV">CSV</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/entity/" title="entity">entity</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/ingest/" title="ingest">ingest</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/islandora-defaults/" title="Islandora Defaults">Islandora Defaults</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/linked-agent/" title="Linked Agent&#x27;">Linked Agent&#x27;</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/migration/" title="migration">migration</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/mods/" title="MODS">MODS</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/rdf/" title="RDF">RDF</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/reference/" title="reference">reference</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/relationship/" title="relationship">relationship</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/taxonomy/" title="taxonomy">taxonomy</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/upload/" title="upload">upload</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/uri/" title="uri">uri</a></dd><dd><a href="https://donrichards.github.io/migrate_islandora_csv/vocabulary/" title="vocabulary">vocabulary</a></dd></dl></div><nav><ul class="post__nav"><li class="post__nav-prev">Prev: <a href="https://donrichards.github.io/migrate_islandora_csv/other-content-types.html" rel="prev" title="Other Content Types">Other Content Types</a></li><li class="post__nav-next">Next: <a href="https://donrichards.github.io/migrate_islandora_csv/preservation.html" rel="next" title="Preservation">Preservation</a></li></ul></nav></footer></div></article></div></div></main><footer class="footer"><div><a class="footer__logo" href="https://donrichards.github.io/migrate_islandora_csv/">Next Generation Digital Repository Solution</a></div><div><div class="footer__copy">For more information <a href="https://islandora.github.io/documentation/"></a></div><div class="footer__social"></div></div></footer><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true
   };</script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/scripts.min.js?v=fe8e4c5e655cb81dbff1ee359a0b8f92"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/prism.js?v=277309e26a038bf312a7e8aa239cfbd8"></script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/prism-line-numbers.min.js?v=13275d3ac10d7028cf6a6f5da276f68c"></script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/prism-copy-to-clipboard.min.js?v=fabfc3fd9af83cda5208ba2e9f9ed238"></script><script src="https://donrichards.github.io/migrate_islandora_csv/assets/js/docsearch.min.js?v=9db7c9eaa8e736ce16840e5bbc02047b"></script><script>docsearch({
                        apiKey: '2e185d125fc3636674585c446905cd8e',
                        indexName: 'donrichards_migrate_islandora_csv',
                        inputSelector: '#docsearch-input',
                        debug: false
                });</script><script defer="defer" src="https://donrichards.github.io/migrate_islandora_csv/assets/js/quicklink.umd.js?v=61daff262ce6be0813e6b1b0341274d4"></script><script>window.addEventListener('load', () =>{
         quicklink();
      });</script></body></html>